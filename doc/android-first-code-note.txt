


第一行代码读书笔记思维导图
https://pic3.zhimg.com/f580d9169d8292417d0c72935fcc983a_r.jpg



第一章 安卓简介


2003.10 andy Rubin  android公司
2005.08 谷歌收购
2008.09 1.0
2011.02 3.0
2011.10 4.0





系统架构 
linux内核 系统运行层  应用框架曾  用用层

四大组件 activity  service broadcat ContentProvider

控件 SqlLite LBS 多媒体 传感器

Dalvik虚拟机


开发环境 
Android SDK
eclipse ADT
Android Studio

AndroidManifest.xml
LogCat工具 

assets  程序动态读取的文件  webview 加载本地网页


<activity
android:name="com.test.helloworld.HelloWorldActivity"
android:label="@string/app_name" >
<intent-filter>
<action android:name="android.intent.action.MAIN" />
<category android:name="android.intent.category.LAUNCHER" />
</intent-filter>
</activity>

setContentView(R.layout.hello_world_layout);

getMenuInflater().inflate(R.menu.hello_world, menu);


菜单 option menu  context menu

onCreateOptionsMenu
android:text="@string/hello_world"

字符串定义 res/values/strings.xml




第二章 activity

Intent 显示 隐式
activity生命周期
不可见 可见 获取焦点
4中启动模式   standard singleTop SingleTask singleInstance
使用task来管理活动 一个task是一个活动栈
出栈入栈
如何查看task     adb shell dumpsys activity

 Running activities (most recent first):
   TaskRecord{b3ac20a8 #10 A com.dyyx.androidhello.MainActivity U 0}
     Run #2: ActivityRecord{b3aca2d8 com.dyyx.androidhello/.ListViewActivity}
     Run #1: ActivityRecord{b3899b48 com.dyyx.androidhello/.MainActivity}

 隐藏标题栏

requestWindowFeature(Window.FEATURE_NO_TITLE);
setContentView(R.layout.first_layout);


requestWindowFeature 需要在 setContentView 之前

Toast.makeText(FirstActivity.this, "You clicked Button 1",Toast.LENGTH_SHORT).show();

findViewById 


<menu xmlns:android="http://schemas.android.com/apk/res/android" >
<item
android:id="@+id/add_item"
android:title="Add"/>
<item
android:id="@+id/remove_item"
android:title="Remove"/>
</menu>

public boolean onCreateOptionsMenu(Menu menu) {
getMenuInflater().inflate(R.menu.main, menu);
return true;
}

public boolean onOptionsItemSelected(MenuItem item) {
switch (item.getItemId()) {
case R.id.add_item:
Toast.makeText(this, "You clicked Add", Toast.LENGTH_SHORT).show();
break;
case R.id.remove_item:
Toast.makeText(this, "You clicked Remove", Toast.LENGTH_SHORT).show();
break;
default:
}
return true;
}

销毁当前活动 finish()

Intent  
显式 Intent intent = new Intent(FirstActivity.this, SecondActivity.class);
隐式 Intent intent = new Intent("com.example.activitytest.ACTION_START");



<activity android:name=".SecondActivity" >
<intent-filter>
<action android:name="com.example.activitytest.ACTION_START" />
<category android:name="android.intent.category.DEFAULT" />
</intent-filter>
</activity>

打开浏览器 

Intent intent = new Intent(Intent.ACTION_VIEW);
intent.setData(Uri.parse("http://www.baidu.com"));
startActivity(intent);

setData

schema host port  path mimeType

拨打电话界面 

Intent intent = new Intent(Intent.ACTION_DIAL);
intent.setData(Uri.parse("tel:10086"));
startActivity(intent);

传递参数

String data = "Hello SecondActivity";
Intent intent = new Intent(FirstActivity.this, SecondActivity.class);
intent.putExtra("extra_data", data);
startActivity(intent);

获取参数

Intent intent = getIntent();
String data = intent.getStringExtra("extra_data");

返回数据给上一个活动
startActivityForResult()

Intent intent = new Intent(FirstActivity.this, SecondActivity.class);
startActivityForResult(intent, 1);




Intent intent = new Intent();
intent.putExtra("data_return", "Hello FirstActivity");
setResult(RESULT_OK, intent);
finish();

protected void onActivityResult(int requestCode, int resultCode, Intent data) {
switch (requestCode) {
case 1:
if (resultCode == RESULT_OK) {
String returnedData = data.getStringExtra("data_return");
Log.d("FirstActivity", returnedData);
}
break;
default:
}
}

返回键 onBackPressed




DialogActivity
<activity android:name=".DialogActivity" android:theme="@android:style/ Theme.Dialog" >



第三章  UI控件
 P87 

xmlns:android="http://schemas.android.com/apk/res/android"

基本布局  TextView EditText Button  
常用控件
match_parent fill_parent wrap_content
match_parent fill_parent 效果相同 推荐用 match_parent
TextView android:gravity="center"  文字居中
android:textSize="24sp"
android:textColor="#00ff00"

EditText 
android:hint="input something here"
android:maxLines="2"

click事件监听接口 OnClickListener

String inputText = editText.getText().toString();
Toast.makeText(MainActivity.this, inputText, Toast.LENGTH_SHORT).show();

ImageView
android:src="@drawable/ic_launcher"

imageView.setImageResource(R.drawable.jelly_bean);

ProgressBar
android:visibility

visible invisible gone

invisible 不可见，但仍然占据着原来的位置和大小，可以理解成变透明了
gone 不可见且不占用空间

setVisibility()方法 View.VISIBLE View.INVISIBLE View.GONE

通过 android:max属性给进度条设置一个最大值，然后在代码中动态地设置进度

int progress = progressBar.getProgress();
progress = progress + 10;
progressBar.setProgress(progress);

ProgressBar 样式 圆形进度条 水平进度条 style

      style="@android:style/Widget.ProgressBar.Horizontal"
  android:max="100"
 android:progress="50"

AlertDialog

AlertDialog.Builder

setPositiveButton()设置确定按钮点击事件
setNegativeButton()设置取消按钮点击事件

ProgressDialog

ProgressDialog progressDialog = new ProgressDialog (MainActivity.this);
progressDialog.setTitle("This is ProgressDialog");
progressDialog.setMessage("Loading...");
progressDialog.setCancelable(true);
progressDialog.show();

setCancelable()设置 false，表示不能通过Back键取消

dismiss()关闭对话框


layout

android:orientation   vertical  horizontal


android:layout_gravity  VS android:gravity

android:layout_gravity 用于指定控件在布局中的对齐方式

当LinearLayout的排列方向是horizontal时，只有垂直方向上的对齐方式才会生效


<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:orientation="horizontal" >

<Button
android:id="@+id/button1"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:layout_gravity="top"
android:text="Button 1" />
<Button
android:id="@+id/button2"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:layout_gravity="center_vertical"
android:text="Button 2" />
<Button
android:id="@+id/button3"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:layout_gravity="bottom"
android:text="Button 3" />
</LinearLayout>

android:layout_weigh


<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:orientation="horizontal" >
<EditText
android:id="@+id/input_message"
android:layout_width="0dp"
android:layout_height="wrap_content"
android:layout_weight="1"
android:hint="Type something"
/>
<Button
android:id="@+id/send"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:text="Send"
/>
</LinearLayout>

Button 宽度按照wrap_content计算 EditText会占满屏幕所有的剩余空间


RelativeLayout p117


RelativeLayout
相对于父布局
android:layout_alignParentLeft="true"
android:layout_alignParentTop="true"

android:layout_alignParentRight="true"
android:layout_alignParentTop="true"

android:layout_centerInParent="true"

android:layout_alignParentBottom="true"
android:layout_alignParentLeft="true"

android:layout_alignParentBottom="true"
android:layout_alignParentRight="true"


相对于指定控件


android:layout_above="@id/button3"
android:layout_toRightOf="@id/button3"

FrameLayout

TableLayout

TableRow

android:layout_span="2"
android:stretchColumns="1"  第二列拉伸




自定义控件

View ViewGroup


android:background="@drawable/title_bg"
自定义标题栏
back按钮 标题 编辑按钮
android:layout_margin="5dip"

<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent" >
<include layout="@layout/title" />
</LinearLayout>

include


public class TitleLayout extends LinearLayout {
public TitleLayout(Context context, AttributeSet attrs) {
super(context, attrs);
LayoutInflater.from(context).inflate(R.layout.title, this);
}
}

<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent" >
<com.example.uicustomviews.TitleLayout
android:layout_width="match_parent"
android:layout_height="wrap_content"
></com.example.uicustomviews.TitleLayout>
</LinearLayout>

增加事件处理函数







第4章 fragment

第6章  数据持久化

第7章  内容提供者

第8章  多媒体


第9章  服务

第10章  网络技术

第11章  位置服务 LBS


第12章  传感器


第13章  高级技巧


第14章  实战 天气app


第15章  将应用发布到google play







